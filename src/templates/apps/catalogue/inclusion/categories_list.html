{% load i18n static %}
{% load mptt_tags %}





{% full_tree_for_model catalogue.Category as categories  %}
{% for node,structure in categories|tree_info %}

    {% if structure.new_level %}<ul><li>{% else %}</li><li>{% endif %}
    {% ifequal node categories %}
        <a class="list-group-item" href="/category/{{ node.slug }}/">{{ node.name }}</a>
    {% else %}
        <a class="list-group-it" href="/category/{{ node.slug }}/">{{ node.name }}</a>
        {% ifequal node.parent_id categories.pk %}{% endifequal %}
    {% endifequal %}
    {% for level in structure.closed_levels %}</li></ul>{% endfor %}
{% endfor %}
-----------------

{% drilldown_tree_for_node test as drilldown cumulative count catalogue.Product.category in game_count %}
{% for node,structure in drilldown|tree_info %}
    {% if structure.new_level %}<ul><li>{% else %}</li><li>{% endif %}
    {% ifequal node test %}
        <strong>{{ node.name }}</strong>
    {% else %}
        <a class="list-group-item" href="/category/{{ node.slug }}/">{{ node.name }}</a>
        {% ifequal node.parent_id test.pk %}({{ node.game_count }}){% endifequal %}
    {% endifequal %}
    {% for level in structure.closed_levels %}</li></ul>{% endfor %}
{% endfor %}
-------------------
<ul class="root">
    {% recursetree categories %}
        <a class="list-group-item" href="/category/{{ node.slug }}/">{{ node.name }}</a>

    {% endrecursetree %}
</ul>